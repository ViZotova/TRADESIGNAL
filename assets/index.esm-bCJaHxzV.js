import{r as O,j as J,c as ce,a as j}from"./main-CUM0TpEs.js";const Ct="_wrapper_13v8j_1",bt="_inputContainer_13v8j_5",Ft="_eye_13v8j_10",wt="_input_13v8j_5",xt="_password_13v8j_35",Vt="_error_13v8j_49",W={wrapper:Ct,inputContainer:bt,eye:Ft,input:wt,password:xt,error:Vt},At=({title:e,titleId:s,...r},n)=>O.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":s,...r},e?O.createElement("title",{id:s},e):null,O.createElement("path",{d:"M21.1303 9.8531C22.2899 11.0732 22.2899 12.9268 21.1303 14.1469C19.1745 16.2047 15.8155 19 12 19C8.18448 19 4.82549 16.2047 2.86971 14.1469C1.7101 12.9268 1.7101 11.0732 2.86971 9.8531C4.82549 7.79533 8.18448 5 12 5C15.8155 5 19.1745 7.79533 21.1303 9.8531Z",stroke:"#FBFBFB",strokeWidth:1.5}),O.createElement("path",{d:"M15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12Z",stroke:"#FBFBFB",strokeWidth:1.5})),mt=O.forwardRef(At),Dt=({title:e,titleId:s,...r},n)=>O.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":s,...r},e?O.createElement("title",{id:s},e):null,O.createElement("path",{d:"M20.2501 21.0001C20.1516 21.0003 20.054 20.9809 19.963 20.9432C19.872 20.9054 19.7894 20.8501 19.7199 20.7803L3.21994 4.28025C3.08522 4.13845 3.01123 3.94964 3.01373 3.75407C3.01624 3.5585 3.09504 3.37164 3.23334 3.23334C3.37164 3.09504 3.5585 3.01624 3.75407 3.01373C3.94964 3.01123 4.13845 3.08522 4.28025 3.21994L20.7803 19.7199C20.8851 19.8248 20.9564 19.9584 20.9854 20.1039C21.0143 20.2493 20.9994 20.4001 20.9427 20.5371C20.8859 20.6741 20.7899 20.7912 20.6666 20.8736C20.5433 20.956 20.3984 21 20.2501 21.0001ZM11.6251 14.8056L9.19744 12.3779C9.18353 12.3641 9.16564 12.355 9.1463 12.3519C9.12696 12.3488 9.10713 12.3518 9.0896 12.3606C9.07206 12.3693 9.05771 12.3833 9.04855 12.4006C9.03939 12.418 9.03589 12.4377 9.03853 12.4571C9.13654 13.087 9.43227 13.6693 9.88298 14.12C10.3337 14.5707 10.916 14.8665 11.5459 14.9645C11.5653 14.9671 11.585 14.9636 11.6024 14.9544C11.6197 14.9453 11.6337 14.9309 11.6424 14.9134C11.6512 14.8959 11.6542 14.876 11.6511 14.8567C11.648 14.8374 11.6389 14.8195 11.6251 14.8056ZM12.3751 9.19462L14.8065 11.6251C14.8204 11.6391 14.8383 11.6483 14.8577 11.6516C14.8772 11.6548 14.8971 11.6518 14.9148 11.643C14.9324 11.6343 14.9469 11.6201 14.956 11.6027C14.9652 11.5853 14.9686 11.5654 14.9659 11.5459C14.8681 10.9152 14.5722 10.332 14.1209 9.88071C13.6696 9.42942 13.0864 9.13348 12.4557 9.03572C12.4362 9.03271 12.4162 9.03594 12.3986 9.04496C12.381 9.05398 12.3668 9.06833 12.3578 9.08595C12.3489 9.10358 12.3457 9.12357 12.3488 9.14309C12.3519 9.16261 12.3611 9.18064 12.3751 9.19462Z",fill:"#FBFBFB"}),O.createElement("path",{d:"M23.0156 12.8137C23.1708 12.5702 23.2529 12.2872 23.252 11.9984C23.2512 11.7096 23.1675 11.4271 23.0109 11.1844C21.7706 9.26625 20.1614 7.63688 18.3577 6.47203C16.3594 5.18203 14.1562 4.5 11.985 4.5C10.8404 4.50157 9.7035 4.6882 8.61844 5.05266C8.58807 5.06276 8.56079 5.08046 8.5392 5.10409C8.51761 5.12772 8.50243 5.15647 8.4951 5.18763C8.48776 5.21878 8.48853 5.25129 8.49732 5.28207C8.50611 5.31284 8.52263 5.34085 8.54531 5.36344L10.7597 7.57781C10.7827 7.60086 10.8113 7.61752 10.8427 7.62615C10.8741 7.63478 10.9072 7.63508 10.9387 7.62703C11.6893 7.44412 12.4744 7.45752 13.2183 7.66595C13.9622 7.87438 14.6399 8.27082 15.1862 8.8171C15.7325 9.36338 16.1289 10.0411 16.3373 10.785C16.5458 11.5289 16.5592 12.3139 16.3762 13.0645C16.3683 13.096 16.3686 13.129 16.3773 13.1603C16.3859 13.1916 16.4025 13.2202 16.4255 13.2431L19.6106 16.4306C19.6438 16.4638 19.6881 16.4834 19.735 16.4855C19.7819 16.4876 19.8278 16.472 19.8637 16.4419C21.0898 15.3968 22.1522 14.1739 23.0156 12.8137ZM12 16.5C11.3188 16.5 10.6465 16.3454 10.0337 16.0478C9.42094 15.7502 8.88375 15.3173 8.46263 14.7819C8.04151 14.2464 7.74745 13.6223 7.60262 12.9567C7.45779 12.2911 7.46598 11.6012 7.62656 10.9392C7.63452 10.9077 7.63418 10.8747 7.62555 10.8434C7.61692 10.8121 7.60031 10.7836 7.57734 10.7606L4.44422 7.62609C4.41099 7.59283 4.36649 7.57327 4.31952 7.57127C4.27255 7.56927 4.22655 7.58499 4.19062 7.61531C3.04734 8.59078 1.9875 9.77766 1.01859 11.1647C0.84899 11.4081 0.755584 11.6965 0.750243 11.9931C0.744901 12.2897 0.827865 12.5813 0.988591 12.8306C2.22656 14.768 3.81937 16.3997 5.59547 17.5486C7.59656 18.8438 9.74625 19.5 11.985 19.5C13.1412 19.4969 14.2899 19.3143 15.39 18.9586C15.4206 18.9488 15.4482 18.9313 15.4702 18.9078C15.4921 18.8842 15.5076 18.8554 15.5152 18.8242C15.5227 18.7929 15.5222 18.7602 15.5135 18.7293C15.5047 18.6983 15.4882 18.6701 15.4655 18.6473L13.2403 16.4227C13.2174 16.3997 13.1888 16.3831 13.1575 16.3744C13.1262 16.3658 13.0932 16.3655 13.0617 16.3734C12.7141 16.4577 12.3577 16.5002 12 16.5Z",fill:"#FBFBFB"})),Et=O.forwardRef(Dt),Xt=O.forwardRef(({wrapperClassName:e,inputClassName:s,error:r,category:n="text",value:u,...l},y)=>{const g=O.useId(),[p,R]=O.useState(!1);return J.jsxs("div",{className:ce(W.wrapper,r&&W.error,e),children:[n==="text"&&J.jsx("div",{className:ce(W.inputContainer),children:J.jsx("input",{ref:y,id:g,className:ce(W.input,s),value:u,...l})}),n==="password"&&J.jsxs("div",{className:ce(W.inputContainer,W.password,p&&W.show),children:[J.jsx("input",{ref:y,type:p?"text":"password",id:g,className:ce(W.input,s),value:u,...l}),J.jsxs("label",{className:W.eye,htmlFor:g,onClick:()=>R(!p),children:[p&&J.jsx(mt,{}),!p&&J.jsx(Et,{})]})]}),r&&J.jsx("div",{className:W.error,children:r})]})});var he=e=>e.type==="checkbox",se=e=>e instanceof Date,T=e=>e==null;const st=e=>typeof e=="object";var A=e=>!T(e)&&!Array.isArray(e)&&st(e)&&!se(e),kt=e=>A(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,St=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,pt=(e,s)=>e.has(St(s)),Lt=e=>{const s=e.constructor&&e.constructor.prototype;return A(s)&&s.hasOwnProperty("isPrototypeOf")},Be=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function P(e){let s;const r=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Be&&(e instanceof Blob||e instanceof FileList))&&(r||A(e)))if(s=r?[]:{},!r&&!Lt(e))s=e;else for(const n in e)e.hasOwnProperty(n)&&(s[n]=P(e[n]));else return e;return s}var Ve=e=>Array.isArray(e)?e.filter(Boolean):[],V=e=>e===void 0,d=(e,s,r)=>{if(!s||!A(e))return r;const n=Ve(s.split(/[,[\].]+?/)).reduce((u,l)=>T(u)?u:u[l],e);return V(n)||n===e?V(e[s])?r:e[s]:n},Z=e=>typeof e=="boolean",Ne=e=>/^\w*$/.test(e),it=e=>Ve(e.replace(/["|']|\]/g,"").split(/\.|\[/)),w=(e,s,r)=>{let n=-1;const u=Ne(s)?[s]:it(s),l=u.length,y=l-1;for(;++n<l;){const g=u[n];let p=r;if(n!==y){const R=e[g];p=A(R)||Array.isArray(R)?R:isNaN(+u[n+1])?{}:[]}if(g==="__proto__")return;e[g]=p,e=e[g]}return e};const Ke={BLUR:"blur",FOCUS_OUT:"focusout"},q={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Q={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};j.createContext(null);var Tt=(e,s,r,n=!0)=>{const u={defaultValues:s._defaultValues};for(const l in e)Object.defineProperty(u,l,{get:()=>{const y=l;return s._proxyFormState[y]!==q.all&&(s._proxyFormState[y]=!n||q.all),e[y]}});return u},B=e=>A(e)&&!Object.keys(e).length,Bt=(e,s,r,n)=>{r(e);const{name:u,...l}=e;return B(l)||Object.keys(l).length>=Object.keys(s).length||Object.keys(l).find(y=>s[y]===q.all)},Ce=e=>Array.isArray(e)?e:[e];function Nt(e){const s=j.useRef(e);s.current=e,j.useEffect(()=>{const r=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var $=e=>typeof e=="string",Ot=(e,s,r,n,u)=>$(e)?(n&&s.watch.add(e),d(r,e,u)):Array.isArray(e)?e.map(l=>(n&&s.watch.add(l),d(r,l))):(n&&(s.watchAll=!0),r),Rt=(e,s,r,n,u)=>s?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:u||!0}}:{},Ye=e=>({isOnSubmit:!e||e===q.onSubmit,isOnBlur:e===q.onBlur,isOnChange:e===q.onChange,isOnAll:e===q.all,isOnTouch:e===q.onTouched}),ze=(e,s,r)=>!r&&(s.watchAll||s.watch.has(e)||[...s.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ye=(e,s,r,n)=>{for(const u of r||Object.keys(e)){const l=d(e,u);if(l){const{_f:y,...g}=l;if(y){if(y.refs&&y.refs[0]&&s(y.refs[0],u)&&!n)return!0;if(y.ref&&s(y.ref,y.name)&&!n)return!0;if(ye(g,s))break}else if(A(g)&&ye(g,s))break}}};var Mt=(e,s,r)=>{const n=Ce(d(e,r));return w(n,"root",s[r]),w(e,r,n),e},Oe=e=>e.type==="file",H=e=>typeof e=="function",Fe=e=>{if(!Be)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},be=e=>$(e),Re=e=>e.type==="radio",we=e=>e instanceof RegExp;const Je={value:!1,isValid:!1},Qe={value:!0,isValid:!0};var at=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!V(e[0].attributes.value)?V(e[0].value)||e[0].value===""?Qe:{value:e[0].value,isValid:!0}:Qe:Je}return Je};const Xe={isValid:!1,value:null};var nt=e=>Array.isArray(e)?e.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,Xe):Xe;function Ge(e,s,r="validate"){if(be(e)||Array.isArray(e)&&e.every(be)||Z(e)&&!e)return{type:r,message:be(e)?e:"",ref:s}}var ne=e=>A(e)&&!we(e)?e:{value:e,message:""},et=async(e,s,r,n,u)=>{const{ref:l,refs:y,required:g,maxLength:p,minLength:R,min:x,max:C,pattern:ge,validate:X,name:N,valueAsNumber:Ae,mount:K,disabled:G}=e._f,b=d(s,N);if(!K||G)return{};const Y=y?y[0]:l,z=_=>{n&&Y.reportValidity&&(Y.setCustomValidity(Z(_)?"":_||""),Y.reportValidity())},m={},ie=Re(l),ve=he(l),te=ie||ve,ae=(Ae||Oe(l))&&V(l.value)&&V(b)||Fe(l)&&l.value===""||b===""||Array.isArray(b)&&!b.length,M=Rt.bind(null,N,r,m),_e=(_,F,D,L=Q.maxLength,I=Q.minLength)=>{const U=_?F:D;m[N]={type:_?L:I,message:U,ref:l,...M(_?L:I,U)}};if(u?!Array.isArray(b)||!b.length:g&&(!te&&(ae||T(b))||Z(b)&&!b||ve&&!at(y).isValid||ie&&!nt(y).isValid)){const{value:_,message:F}=be(g)?{value:!!g,message:g}:ne(g);if(_&&(m[N]={type:Q.required,message:F,ref:Y,...M(Q.required,F)},!r))return z(F),m}if(!ae&&(!T(x)||!T(C))){let _,F;const D=ne(C),L=ne(x);if(!T(b)&&!isNaN(b)){const I=l.valueAsNumber||b&&+b;T(D.value)||(_=I>D.value),T(L.value)||(F=I<L.value)}else{const I=l.valueAsDate||new Date(b),U=oe=>new Date(new Date().toDateString()+" "+oe),le=l.type=="time",ue=l.type=="week";$(D.value)&&b&&(_=le?U(b)>U(D.value):ue?b>D.value:I>new Date(D.value)),$(L.value)&&b&&(F=le?U(b)<U(L.value):ue?b<L.value:I<new Date(L.value))}if((_||F)&&(_e(!!_,D.message,L.message,Q.max,Q.min),!r))return z(m[N].message),m}if((p||R)&&!ae&&($(b)||u&&Array.isArray(b))){const _=ne(p),F=ne(R),D=!T(_.value)&&b.length>+_.value,L=!T(F.value)&&b.length<+F.value;if((D||L)&&(_e(D,_.message,F.message),!r))return z(m[N].message),m}if(ge&&!ae&&$(b)){const{value:_,message:F}=ne(ge);if(we(_)&&!b.match(_)&&(m[N]={type:Q.pattern,message:F,ref:l,...M(Q.pattern,F)},!r))return z(F),m}if(X){if(H(X)){const _=await X(b,s),F=Ge(_,Y);if(F&&(m[N]={...F,...M(Q.validate,F.message)},!r))return z(F.message),m}else if(A(X)){let _={};for(const F in X){if(!B(_)&&!r)break;const D=Ge(await X[F](b,s),Y,F);D&&(_={...D,...M(F,D.message)},z(D.message),r&&(m[N]=_))}if(!B(_)&&(m[N]={ref:Y,..._},!r))return m}}return z(!0),m};function Ut(e,s){const r=s.slice(0,-1).length;let n=0;for(;n<r;)e=V(e)?n++:e[s[n++]];return e}function Pt(e){for(const s in e)if(e.hasOwnProperty(s)&&!V(e[s]))return!1;return!0}function E(e,s){const r=Array.isArray(s)?s:Ne(s)?[s]:it(s),n=r.length===1?e:Ut(e,r),u=r.length-1,l=r[u];return n&&delete n[l],u!==0&&(A(n)&&B(n)||Array.isArray(n)&&Pt(n))&&E(e,r.slice(0,-1)),e}var Se=()=>{let e=[];return{get observers(){return e},next:u=>{for(const l of e)l.next&&l.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(l=>l!==u)}}),unsubscribe:()=>{e=[]}}},Te=e=>T(e)||!st(e);function ee(e,s){if(Te(e)||Te(s))return e===s;if(se(e)&&se(s))return e.getTime()===s.getTime();const r=Object.keys(e),n=Object.keys(s);if(r.length!==n.length)return!1;for(const u of r){const l=e[u];if(!n.includes(u))return!1;if(u!=="ref"){const y=s[u];if(se(l)&&se(y)||A(l)&&A(y)||Array.isArray(l)&&Array.isArray(y)?!ee(l,y):l!==y)return!1}}return!0}var lt=e=>e.type==="select-multiple",jt=e=>Re(e)||he(e),pe=e=>Fe(e)&&e.isConnected,ut=e=>{for(const s in e)if(H(e[s]))return!0;return!1};function xe(e,s={}){const r=Array.isArray(e);if(A(e)||r)for(const n in e)Array.isArray(e[n])||A(e[n])&&!ut(e[n])?(s[n]=Array.isArray(e[n])?[]:{},xe(e[n],s[n])):T(e[n])||(s[n]=!0);return s}function ot(e,s,r){const n=Array.isArray(e);if(A(e)||n)for(const u in e)Array.isArray(e[u])||A(e[u])&&!ut(e[u])?V(s)||Te(r[u])?r[u]=Array.isArray(e[u])?xe(e[u],[]):{...xe(e[u])}:ot(e[u],T(s)?{}:s[u],r[u]):r[u]=!ee(e[u],s[u]);return r}var fe=(e,s)=>ot(e,s,xe(s)),ct=(e,{valueAsNumber:s,valueAsDate:r,setValueAs:n})=>V(e)?e:s?e===""?NaN:e&&+e:r&&$(e)?new Date(e):n?n(e):e;function Le(e){const s=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):s.disabled))return Oe(s)?s.files:Re(s)?nt(e.refs).value:lt(s)?[...s.selectedOptions].map(({value:r})=>r):he(s)?at(e.refs).value:ct(V(s.value)?e.ref.value:s.value,e)}var It=(e,s,r,n)=>{const u={};for(const l of e){const y=d(s,l);y&&w(u,l,y._f)}return{criteriaMode:r,names:[...e],fields:u,shouldUseNativeValidation:n}},de=e=>V(e)?e:we(e)?e.source:A(e)?we(e.value)?e.value.source:e.value:e;const tt="AsyncFunction";var qt=e=>(!e||!e.validate)&&!!(H(e.validate)&&e.validate.constructor.name===tt||A(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===tt)),Wt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function rt(e,s,r){const n=d(e,r);if(n||Ne(r))return{error:n,name:r};const u=r.split(".");for(;u.length;){const l=u.join("."),y=d(s,l),g=d(e,l);if(y&&!Array.isArray(y)&&r!==l)return{name:r};if(g&&g.type)return{name:l,error:g};u.pop()}return{name:r}}var Zt=(e,s,r,n,u)=>u.isOnAll?!1:!r&&u.isOnTouch?!(s||e):(r?n.isOnBlur:u.isOnBlur)?!e:(r?n.isOnChange:u.isOnChange)?e:!0,Ht=(e,s)=>!Ve(d(e,s)).length&&E(e,s);const $t={mode:q.onSubmit,reValidateMode:q.onChange,shouldFocusError:!0};function Kt(e={}){let s={...$t,...e},r={submitCount:0,isDirty:!1,isLoading:H(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},n={},u=A(s.defaultValues)||A(s.values)?P(s.defaultValues||s.values)||{}:{},l=s.shouldUnregister?{}:P(u),y={action:!1,mount:!1,watch:!1},g={mount:new Set,unMount:new Set,array:new Set,watch:new Set},p,R=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},C={values:Se(),array:Se(),state:Se()},ge=Ye(s.mode),X=Ye(s.reValidateMode),N=s.criteriaMode===q.all,Ae=t=>i=>{clearTimeout(R),R=setTimeout(t,i)},K=async t=>{if(!s.disabled&&(x.isValid||t)){const i=s.resolver?B((await te()).errors):await M(n,!0);i!==r.isValid&&C.state.next({isValid:i})}},G=(t,i)=>{!s.disabled&&(x.isValidating||x.validatingFields)&&((t||Array.from(g.mount)).forEach(a=>{a&&(i?w(r.validatingFields,a,i):E(r.validatingFields,a))}),C.state.next({validatingFields:r.validatingFields,isValidating:!B(r.validatingFields)}))},b=(t,i=[],a,f,c=!0,o=!0)=>{if(f&&a&&!s.disabled){if(y.action=!0,o&&Array.isArray(d(n,t))){const h=a(d(n,t),f.argA,f.argB);c&&w(n,t,h)}if(o&&Array.isArray(d(r.errors,t))){const h=a(d(r.errors,t),f.argA,f.argB);c&&w(r.errors,t,h),Ht(r.errors,t)}if(x.touchedFields&&o&&Array.isArray(d(r.touchedFields,t))){const h=a(d(r.touchedFields,t),f.argA,f.argB);c&&w(r.touchedFields,t,h)}x.dirtyFields&&(r.dirtyFields=fe(u,l)),C.state.next({name:t,isDirty:_(t,i),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else w(l,t,i)},Y=(t,i)=>{w(r.errors,t,i),C.state.next({errors:r.errors})},z=t=>{r.errors=t,C.state.next({errors:r.errors,isValid:!1})},m=(t,i,a,f)=>{const c=d(n,t);if(c){const o=d(l,t,V(a)?d(u,t):a);V(o)||f&&f.defaultChecked||i?w(l,t,i?o:Le(c._f)):L(t,o),y.mount&&K()}},ie=(t,i,a,f,c)=>{let o=!1,h=!1;const v={name:t};if(!s.disabled){const k=!!(d(n,t)&&d(n,t)._f&&d(n,t)._f.disabled);if(!a||f){x.isDirty&&(h=r.isDirty,r.isDirty=v.isDirty=_(),o=h!==v.isDirty);const S=k||ee(d(u,t),i);h=!!(!k&&d(r.dirtyFields,t)),S||k?E(r.dirtyFields,t):w(r.dirtyFields,t,!0),v.dirtyFields=r.dirtyFields,o=o||x.dirtyFields&&h!==!S}if(a){const S=d(r.touchedFields,t);S||(w(r.touchedFields,t,a),v.touchedFields=r.touchedFields,o=o||x.touchedFields&&S!==a)}o&&c&&C.state.next(v)}return o?v:{}},ve=(t,i,a,f)=>{const c=d(r.errors,t),o=x.isValid&&Z(i)&&r.isValid!==i;if(e.delayError&&a?(p=Ae(()=>Y(t,a)),p(e.delayError)):(clearTimeout(R),p=null,a?w(r.errors,t,a):E(r.errors,t)),(a?!ee(c,a):c)||!B(f)||o){const h={...f,...o&&Z(i)?{isValid:i}:{},errors:r.errors,name:t};r={...r,...h},C.state.next(h)}},te=async t=>{G(t,!0);const i=await s.resolver(l,s.context,It(t||g.mount,n,s.criteriaMode,s.shouldUseNativeValidation));return G(t),i},ae=async t=>{const{errors:i}=await te(t);if(t)for(const a of t){const f=d(i,a);f?w(r.errors,a,f):E(r.errors,a)}else r.errors=i;return i},M=async(t,i,a={valid:!0})=>{for(const f in t){const c=t[f];if(c){const{_f:o,...h}=c;if(o){const v=g.array.has(o.name),k=c._f&&qt(c._f);k&&x.validatingFields&&G([f],!0);const S=await et(c,l,N,s.shouldUseNativeValidation&&!i,v);if(k&&x.validatingFields&&G([f]),S[o.name]&&(a.valid=!1,i))break;!i&&(d(S,o.name)?v?Mt(r.errors,S,o.name):w(r.errors,o.name,S[o.name]):E(r.errors,o.name))}!B(h)&&await M(h,i,a)}}return a.valid},_e=()=>{for(const t of g.unMount){const i=d(n,t);i&&(i._f.refs?i._f.refs.every(a=>!pe(a)):!pe(i._f.ref))&&me(t)}g.unMount=new Set},_=(t,i)=>!s.disabled&&(t&&i&&w(l,t,i),!ee(Me(),u)),F=(t,i,a)=>Ot(t,g,{...y.mount?l:V(i)?u:$(t)?{[t]:i}:i},a,i),D=t=>Ve(d(y.mount?l:u,t,e.shouldUnregister?d(u,t,[]):[])),L=(t,i,a={})=>{const f=d(n,t);let c=i;if(f){const o=f._f;o&&(!o.disabled&&w(l,t,ct(i,o)),c=Fe(o.ref)&&T(i)?"":i,lt(o.ref)?[...o.ref.options].forEach(h=>h.selected=c.includes(h.value)):o.refs?he(o.ref)?o.refs.length>1?o.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(c)?!!c.find(v=>v===h.value):c===h.value)):o.refs[0]&&(o.refs[0].checked=!!c):o.refs.forEach(h=>h.checked=h.value===c):Oe(o.ref)?o.ref.value="":(o.ref.value=c,o.ref.type||C.values.next({name:t,values:{...l}})))}(a.shouldDirty||a.shouldTouch)&&ie(t,c,a.shouldTouch,a.shouldDirty,!0),a.shouldValidate&&oe(t)},I=(t,i,a)=>{for(const f in i){const c=i[f],o=`${t}.${f}`,h=d(n,o);(g.array.has(t)||A(c)||h&&!h._f)&&!se(c)?I(o,c,a):L(o,c,a)}},U=(t,i,a={})=>{const f=d(n,t),c=g.array.has(t),o=P(i);w(l,t,o),c?(C.array.next({name:t,values:{...l}}),(x.isDirty||x.dirtyFields)&&a.shouldDirty&&C.state.next({name:t,dirtyFields:fe(u,l),isDirty:_(t,o)})):f&&!f._f&&!T(o)?I(t,o,a):L(t,o,a),ze(t,g)&&C.state.next({...r}),C.values.next({name:y.mount?t:void 0,values:{...l}})},le=async t=>{y.mount=!0;const i=t.target;let a=i.name,f=!0;const c=d(n,a),o=()=>i.type?Le(c._f):kt(t),h=v=>{f=Number.isNaN(v)||se(v)&&isNaN(v.getTime())||ee(v,d(l,a,v))};if(c){let v,k;const S=o(),re=t.type===Ke.BLUR||t.type===Ke.FOCUS_OUT,gt=!Wt(c._f)&&!s.resolver&&!d(r.errors,a)&&!c._f.deps||Zt(re,d(r.touchedFields,a),r.isSubmitted,X,ge),Ee=ze(a,g,re);w(l,a,S),re?(c._f.onBlur&&c._f.onBlur(t),p&&p(0)):c._f.onChange&&c._f.onChange(t);const ke=ie(a,S,re,!1),vt=!B(ke)||Ee;if(!re&&C.values.next({name:a,type:t.type,values:{...l}}),gt)return x.isValid&&(e.mode==="onBlur"?re&&K():K()),vt&&C.state.next({name:a,...Ee?{}:ke});if(!re&&Ee&&C.state.next({...r}),s.resolver){const{errors:He}=await te([a]);if(h(S),f){const _t=rt(r.errors,n,a),$e=rt(He,n,_t.name||a);v=$e.error,a=$e.name,k=B(He)}}else G([a],!0),v=(await et(c,l,N,s.shouldUseNativeValidation))[a],G([a]),h(S),f&&(v?k=!1:x.isValid&&(k=await M(n,!0)));f&&(c._f.deps&&oe(c._f.deps),ve(a,k,v,ke))}},ue=(t,i)=>{if(d(r.errors,i)&&t.focus)return t.focus(),1},oe=async(t,i={})=>{let a,f;const c=Ce(t);if(s.resolver){const o=await ae(V(t)?t:c);a=B(o),f=t?!c.some(h=>d(o,h)):a}else t?(f=(await Promise.all(c.map(async o=>{const h=d(n,o);return await M(h&&h._f?{[o]:h}:h)}))).every(Boolean),!(!f&&!r.isValid)&&K()):f=a=await M(n);return C.state.next({...!$(t)||x.isValid&&a!==r.isValid?{}:{name:t},...s.resolver||!t?{isValid:a}:{},errors:r.errors}),i.shouldFocus&&!f&&ye(n,ue,t?c:g.mount),f},Me=t=>{const i={...y.mount?l:u};return V(t)?i:$(t)?d(i,t):t.map(a=>d(i,a))},Ue=(t,i)=>({invalid:!!d((i||r).errors,t),isDirty:!!d((i||r).dirtyFields,t),error:d((i||r).errors,t),isValidating:!!d(r.validatingFields,t),isTouched:!!d((i||r).touchedFields,t)}),ft=t=>{t&&Ce(t).forEach(i=>E(r.errors,i)),C.state.next({errors:t?r.errors:{}})},Pe=(t,i,a)=>{const f=(d(n,t,{_f:{}})._f||{}).ref,c=d(r.errors,t)||{},{ref:o,message:h,type:v,...k}=c;w(r.errors,t,{...k,...i,ref:f}),C.state.next({name:t,errors:r.errors,isValid:!1}),a&&a.shouldFocus&&f&&f.focus&&f.focus()},dt=(t,i)=>H(t)?C.values.subscribe({next:a=>t(F(void 0,i),a)}):F(t,i,!0),me=(t,i={})=>{for(const a of t?Ce(t):g.mount)g.mount.delete(a),g.array.delete(a),i.keepValue||(E(n,a),E(l,a)),!i.keepError&&E(r.errors,a),!i.keepDirty&&E(r.dirtyFields,a),!i.keepTouched&&E(r.touchedFields,a),!i.keepIsValidating&&E(r.validatingFields,a),!s.shouldUnregister&&!i.keepDefaultValue&&E(u,a);C.values.next({values:{...l}}),C.state.next({...r,...i.keepDirty?{isDirty:_()}:{}}),!i.keepIsValid&&K()},je=({disabled:t,name:i,field:a,fields:f,value:c})=>{if(Z(t)&&y.mount||t){const o=t?void 0:V(c)?Le(a?a._f:d(f,i)._f):c;w(l,i,o),ie(i,o,!1,!1,!0)}},De=(t,i={})=>{let a=d(n,t);const f=Z(i.disabled)||Z(s.disabled);return w(n,t,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:t}},name:t,mount:!0,...i}}),g.mount.add(t),a?je({field:a,disabled:Z(i.disabled)?i.disabled:s.disabled,name:t,value:i.value}):m(t,!0,i.value),{...f?{disabled:i.disabled||s.disabled}:{},...s.progressive?{required:!!i.required,min:de(i.min),max:de(i.max),minLength:de(i.minLength),maxLength:de(i.maxLength),pattern:de(i.pattern)}:{},name:t,onChange:le,onBlur:le,ref:c=>{if(c){De(t,i),a=d(n,t);const o=V(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,h=jt(o),v=a._f.refs||[];if(h?v.find(k=>k===o):o===a._f.ref)return;w(n,t,{_f:{...a._f,...h?{refs:[...v.filter(pe),o,...Array.isArray(d(u,t))?[{}]:[]],ref:{type:o.type,name:t}}:{ref:o}}}),m(t,!1,void 0,o)}else a=d(n,t,{}),a._f&&(a._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!(pt(g.array,t)&&y.action)&&g.unMount.add(t)}}},Ie=()=>s.shouldFocusError&&ye(n,ue,g.mount),yt=t=>{Z(t)&&(C.state.next({disabled:t}),ye(n,(i,a)=>{const f=d(n,a);f&&(i.disabled=f._f.disabled||t,Array.isArray(f._f.refs)&&f._f.refs.forEach(c=>{c.disabled=f._f.disabled||t}))},0,!1))},qe=(t,i)=>async a=>{let f;if(a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist()),s.disabled){i&&await i({...r.errors},a);return}let c=P(l);if(C.state.next({isSubmitting:!0}),s.resolver){const{errors:o,values:h}=await te();r.errors=o,c=h}else await M(n);if(E(r.errors,"root"),B(r.errors)){C.state.next({errors:{}});try{await t(c,a)}catch(o){f=o}}else i&&await i({...r.errors},a),Ie(),setTimeout(Ie);if(C.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(r.errors)&&!f,submitCount:r.submitCount+1,errors:r.errors}),f)throw f},ht=(t,i={})=>{d(n,t)&&(V(i.defaultValue)?U(t,P(d(u,t))):(U(t,i.defaultValue),w(u,t,P(i.defaultValue))),i.keepTouched||E(r.touchedFields,t),i.keepDirty||(E(r.dirtyFields,t),r.isDirty=i.defaultValue?_(t,P(d(u,t))):_()),i.keepError||(E(r.errors,t),x.isValid&&K()),C.state.next({...r}))},We=(t,i={})=>{const a=t?P(t):u,f=P(a),c=B(t),o=c?u:f;if(i.keepDefaultValues||(u=a),!i.keepValues){if(i.keepDirtyValues){const h=new Set([...g.mount,...Object.keys(fe(u,l))]);for(const v of Array.from(h))d(r.dirtyFields,v)?w(o,v,d(l,v)):U(v,d(o,v))}else{if(Be&&V(t))for(const h of g.mount){const v=d(n,h);if(v&&v._f){const k=Array.isArray(v._f.refs)?v._f.refs[0]:v._f.ref;if(Fe(k)){const S=k.closest("form");if(S){S.reset();break}}}}n={}}l=e.shouldUnregister?i.keepDefaultValues?P(u):{}:P(o),C.array.next({values:{...o}}),C.values.next({values:{...o}})}g={mount:i.keepDirtyValues?g.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},y.mount=!x.isValid||!!i.keepIsValid||!!i.keepDirtyValues,y.watch=!!e.shouldUnregister,C.state.next({submitCount:i.keepSubmitCount?r.submitCount:0,isDirty:c?!1:i.keepDirty?r.isDirty:!!(i.keepDefaultValues&&!ee(t,u)),isSubmitted:i.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:c?{}:i.keepDirtyValues?i.keepDefaultValues&&l?fe(u,l):r.dirtyFields:i.keepDefaultValues&&t?fe(u,t):i.keepDirty?r.dirtyFields:{},touchedFields:i.keepTouched?r.touchedFields:{},errors:i.keepErrors?r.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ze=(t,i)=>We(H(t)?t(l):t,i);return{control:{register:De,unregister:me,getFieldState:Ue,handleSubmit:qe,setError:Pe,_executeSchema:te,_getWatch:F,_getDirty:_,_updateValid:K,_removeUnmounted:_e,_updateFieldArray:b,_updateDisabledField:je,_getFieldArray:D,_reset:We,_resetDefaultValues:()=>H(s.defaultValues)&&s.defaultValues().then(t=>{Ze(t,s.resetOptions),C.state.next({isLoading:!1})}),_updateFormState:t=>{r={...r,...t}},_disableForm:yt,_subjects:C,_proxyFormState:x,_setErrors:z,get _fields(){return n},get _formValues(){return l},get _state(){return y},set _state(t){y=t},get _defaultValues(){return u},get _names(){return g},set _names(t){g=t},get _formState(){return r},set _formState(t){r=t},get _options(){return s},set _options(t){s={...s,...t}}},trigger:oe,register:De,handleSubmit:qe,watch:dt,setValue:U,getValues:Me,reset:Ze,resetField:ht,clearErrors:ft,unregister:me,setError:Pe,setFocus:(t,i={})=>{const a=d(n,t),f=a&&a._f;if(f){const c=f.refs?f.refs[0]:f.ref;c.focus&&(c.focus(),i.shouldSelect&&H(c.select)&&c.select())}},getFieldState:Ue}}function Gt(e={}){const s=j.useRef(),r=j.useRef(),[n,u]=j.useState({isDirty:!1,isValidating:!1,isLoading:H(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:H(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...Kt(e),formState:n});const l=s.current.control;return l._options=e,Nt({subject:l._subjects.state,next:y=>{Bt(y,l._proxyFormState,l._updateFormState)&&u({...l._formState})}}),j.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),j.useEffect(()=>{if(l._proxyFormState.isDirty){const y=l._getDirty();y!==n.isDirty&&l._subjects.state.next({isDirty:y})}},[l,n.isDirty]),j.useEffect(()=>{e.values&&!ee(e.values,r.current)?(l._reset(e.values,l._options.resetOptions),r.current=e.values,u(y=>({...y}))):l._resetDefaultValues()},[e.values,l]),j.useEffect(()=>{e.errors&&l._setErrors(e.errors)},[e.errors,l]),j.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),j.useEffect(()=>{e.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[e.shouldUnregister,l]),s.current.formState=Tt(n,l),s.current}export{Xt as C,Gt as u};
