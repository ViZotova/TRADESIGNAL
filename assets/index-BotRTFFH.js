import{o as k,u as j,r as i,C as z,d as N,j as t,L as T}from"./main-CUM0TpEs.js";import{u as I,C as S}from"./index.esm-bCJaHxzV.js";import{u as w}from"./useAuthRedirect-DzyeWYEt.js";import{M as v}from"./MainButton-CN3kiotW.js";const E="_wrapper_7oluz_1",P="_titles_7oluz_11",L="_lockImg_7oluz_15",W="_title_7oluz_11",A="_subtitle_7oluz_33",C="_titleText_7oluz_41",y="_form_7oluz_50",M="_container_7oluz_58",R="_inputs_7oluz_66",$="_button_7oluz_73",B="_remainigText_7oluz_77",F="_bottomWrapper_7oluz_86",q="_backLink_7oluz_96",D="_rightSide_7oluz_109",G="_desktopWrapper_7oluz_138",J="_chartImg_7oluz_161",s={wrapper:E,titles:P,lockImg:L,title:W,subtitle:A,titleText:C,form:y,container:M,inputs:R,button:$,remainigText:B,bottomWrapper:F,backLink:q,rightSide:D,desktopWrapper:G,chartImg:J},Q="/assets/lock-CXgQ0YhU.png",U="/assets/chartLock-Dd8J9CA3.png",u=30,O=k(()=>{var c;const{t:e}=j("auth"),{register:d,handleSubmit:p,setError:_,formState:{errors:g}}=I(),[o,l]=i.useState(!0),[a,n]=i.useState(u),{store:h}=i.useContext(z),x=N();w("/"),i.useEffect(()=>{let r;return o||(a>0?r=setTimeout(()=>{n(a-1)},1e3):l(!0)),()=>clearTimeout(r)},[a,o]);const b=async r=>{const{email:f}=r,m=await h.forgotPassword(f);if(m){_("email",{type:"manual",message:m});return}l(!1),n(u)};return t.jsxs("div",{className:s.desktopWrapper,children:[t.jsx("div",{className:s.rightSide,children:t.jsx("img",{src:U,alt:"chart",className:s.chartImg})}),t.jsxs("div",{className:s.wrapper,children:[t.jsxs("div",{className:s.titles,children:[t.jsx("h2",{className:s.title,children:e("updatePasswordTitle")}),t.jsx("h3",{className:s.subtitle,children:e("forgotPasswordTitle")}),t.jsx("h3",{className:s.titleText,children:e("forgotPasswordSubtitle")}),t.jsx("img",{src:Q,alt:"chart",className:s.lockImg})]}),t.jsxs("form",{className:s.form,onSubmit:p(b),children:[t.jsx("div",{className:s.container,children:t.jsx("div",{className:s.inputs,children:t.jsx(S,{placeholder:e("email"),error:(c=g.email)==null?void 0:c.message,...d("email",{required:e("enterEmailAddress"),pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:e("enterEmailAddress")}})})})}),t.jsxs("div",{className:s.bottomWrapper,children:[!o&&t.jsxs("p",{className:s.remainigText,children:[e("forgotPasswordText"),t.jsx("br",{}),e("forgotPasswordremainigText")," 00:",String(a).padStart(2,"0")]}),t.jsx(v,{type:"submit",style:"action",className:s.button,disabled:!o,children:e("forgotPasswordButton")}),t.jsx(T,{to:x("/login"),className:s.backLink,children:e("back")})]})]})]})]})});export{O as default};
