import{o as h,r as o,u as j,e as b,C as k,j as s}from"./main-CUM0TpEs.js";import{u as g,C as N}from"./index.esm-bCJaHxzV.js";import{M as P}from"./MainButton-CN3kiotW.js";import{C as L}from"./CustomLink-DovV0LrB.js";const v="_wrapper_172lp_1",C="_titles_172lp_13",T="_title_172lp_13",y="_form_172lp_35",S="_container_172lp_44",R="_inputs_172lp_52",E="_successTitle_172lp_59",$="_backLink_172lp_68",e={wrapper:v,titles:C,title:T,form:y,container:S,inputs:R,successTitle:E,backLink:$},V=h(()=>{var r;const[n,c]=o.useState(!1),{t}=j("auth"),{register:i,handleSubmit:l,setError:p,formState:{errors:d}}=g(),{search:u}=b(),{store:m}=o.useContext(k),_=u.substring(1),w=async x=>{const{password:f}=x,a=await m.resetPassword({password:f,resetLink:_});if(a){p("password",{type:"manual",message:a});return}c(!0)};return n?s.jsxs("div",{className:e.wrapper,children:[s.jsx("p",{className:e.successTitle,children:t("resetPasswordSuccessText")}),s.jsx(L,{text:t("backToLogin"),href:"/login",className:e.backLink})]}):s.jsxs("div",{className:e.wrapper,children:[s.jsx("div",{className:e.titles,children:s.jsx("h1",{className:e.title,children:t("newPassword")})}),s.jsxs("form",{className:e.form,onSubmit:l(w),children:[s.jsx("div",{className:e.container,children:s.jsx("div",{className:e.inputs,children:s.jsx(N,{placeholder:t("password"),category:"password",error:(r=d.password)==null?void 0:r.message,...i("password",{required:t("enterValidPassword"),pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_\-+={}[\]\\|:;'<>,.?/])[a-zA-Z\d!@#$%^&*()_\-+={}[\]\\|:;'<>,.?/]{8,}$/,message:t("enterValidPassword")}})})})}),s.jsx(P,{type:"submit",category:"button",style:"action",children:t("newPasswordButton")})]})]})});export{V as default};
