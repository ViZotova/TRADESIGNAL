import{j as t,c as N,r as n,o as j,u as q,C as v,b as T,A as C}from"./main-CUM0TpEs.js";import{Q as S,B}from"./react-toastify.esm-BK1xofNY.js";import{u as A}from"./useNoAuthRedirect-DsMISdsL.js";import{u as I}from"./useNoRefRedirect-CsRs-S9D.js";import{g as y}from"./index-D5S_XLeY.js";import{S as E}from"./SectionWrapper-E0lwsLBs.js";import{M as R}from"./MainButton-CN3kiotW.js";const b="_container_ptqq2_1",H="_settings_ptqq2_7",L="_winRate_ptqq2_23",W="_accountCardsWrapper_ptqq2_52",V="_privatInfoCard_ptqq2_60",M="_emailInput_ptqq2_67",k="_emailText_ptqq2_79",F="_passwordText_ptqq2_88",O="_remainigText_ptqq2_97",U="_exitButton_ptqq2_106",P="_passwordBtn_ptqq2_130",s={container:b,settings:H,winRate:L,accountCardsWrapper:W,privatInfoCard:V,emailInput:M,emailText:k,passwordText:F,remainigText:O,exitButton:U,passwordBtn:P},Z="_card_1nwk5_1",D="_title_1nwk5_5",d={card:Z,title:D},x=({title:a,className:e="",children:i})=>t.jsxs("div",{className:d.card,children:[t.jsx("h2",{className:d.title,children:a}),t.jsx("div",{className:N(d.childrenContainer,e),children:i})]}),G=({title:a,titleId:e,...i},o)=>n.createElement("svg",{width:30,height:30,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:o,"aria-labelledby":e,...i},a?n.createElement("title",{id:e},a):null,n.createElement("path",{d:"M3.75 26.25V18.75H6.25V23.75H23.75V6.25H6.25V11.25H3.75V3.75H26.25V26.25H3.75ZM13.125 21.25L11.375 19.4375L14.5625 16.25H3.75V13.75H14.5625L11.375 10.5625L13.125 8.75L19.375 15L13.125 21.25Z",fill:"#FBFBFB"})),Q=n.forwardRef(G),_=30,$={winAmount:0,neutralAmount:0,loseAmount:0,totalSignals:0},st=j(()=>{const{t:a}=q("account"),{store:e}=n.useContext(v),i=T(),[o,m]=n.useState(!0),[l,p]=n.useState(_),[u,w]=n.useState($);A(),I(),n.useEffect(()=>{let c;return o||(l>0?c=setTimeout(()=>{p(l-1)},1e3):m(!0)),()=>clearTimeout(c)},[l,o,e.isAuth,i]),n.useEffect(()=>{if(!e.user.id)return;const c=async()=>{try{const r=await y(e.user.id);r&&w(r)}catch(r){if(r instanceof C&&(r==null?void 0:r.status)===401)try{await e.checkAuth(),c()}catch{await e.logout()}}};c()},[e.user.id]);const f=async()=>{await e.forgotPassword(e.user.email),m(!1),p(_),B.success(a("sendText"))},h=async()=>{await e.logout(),i("/")},g=()=>u.winAmount===0||u.totalSignals===0?"0%":(u.winAmount*100/u.totalSignals).toFixed(2)+"%";return t.jsxs(E,{wrapperClassName:s.wrapper,containerClassName:s.container,children:[t.jsxs("p",{className:s.winRate,children:["Win rate ",g()]}),t.jsxs("div",{className:s.settings,children:[t.jsxs("div",{className:s.accountCardsWrapper,children:[t.jsxs(x,{title:a("privateInfo"),className:s.privatInfoCard,children:[t.jsxs("div",{className:s.emailContainer,children:[t.jsx("p",{className:s.emailText,children:"Email"}),t.jsx("input",{className:s.emailInput,type:"email",value:e.user.email||"",readOnly:!0,disabled:!0})]}),t.jsxs("div",{className:s.emailContainer,children:[t.jsx("p",{className:s.emailText,children:"Referral ID"}),t.jsx("input",{className:s.emailInput,type:"number",value:e.user.referralId||"",readOnly:!0,disabled:!0})]})]}),t.jsxs(x,{title:a("security"),children:[t.jsx("p",{className:s.passwordText,children:a("passwordText")}),!o&&t.jsxs("p",{className:s.remainigText,children:["00:",String(l).padStart(2,"0")]}),t.jsx(R,{onClick:f,category:"button",className:s.passwordBtn,style:"action",disabled:!o,children:a("resetPasswordBtn")})]})]}),t.jsx("button",{className:s.exitButton,onClick:h,children:t.jsx(Q,{})})]}),t.jsx(S,{})]})});export{st as default};
